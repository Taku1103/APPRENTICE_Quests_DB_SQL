# NetTVデータベース作成手順
1. MySQLにrootユーザー等のデータベース（以下DB）作成権限等をもつ高位のユーザーでアクセスし、任意の名前のDBを作成する（以下DB名を'nettv'とする）。
2. コマンド`use nettv;`でDBを指定。
3. [./Create_NetTV.sql](./Create_NetTV.sql) のファイル内にあるSQLを上から順に実行する。

# STEP3のSQL
[./Queries_NetTV.sql](./Queries_NetTV.sql) のファイル内にあるSQLを実行する。クエストの番号とコマンド上部にある番号が対応している。
### 補足
3:本日を'2023-11-07'とする。

4:本日を'2023-11-07'とする。特定のチャンネル名'NKK'とする。

5:直近の一週間をそのSQL文を実行した日付（JST）の一週間以内とする。

# テーブル設計
### Channels

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| チャンネルID      | INT          |      | PRIMARY  |                  | YES            |
| チャンネル名      | VARCHAR(100) |      |          |                  |                |
| チャンネル概要    | TEXT         |      |          |                  |                |




### Slots

| カラム名             | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|----------------------|--------------|------|----------|------------------|----------------|
| 番組枠ID              | INT          |      | PRIMARY  |                  | YES            |
| 日時_番組開始時刻     | DATETIME     |      |          |                  |                |
| 日時_番組終了時刻     | DATETIME     |      |          |                  |                |
| 番組枠再生数          | INT          |      |          | 0                |                |
| 番組ID              | INT          |      |          |                  |                |
| エピソードID        | INT          |      |          |                  |                |


### Programs

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| 番組ID          | INT          |      | PRIMARY  |                  | YES            |
| 番組名          | VARCHAR(255) |      |          |                  |                |
| 総シーズン数      | INT          |      |          |                  |                |
| 総エピソード数    | INT          |      |          |                  |                |
| 番組詳細        | TEXT         |      |          |                  |                |
| 番組再生数      | INT          |      |          | 0                |                |


### Episodes

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| エピソードID      | INT          |      | PRIMARY  |                  | YES            |
| エピソード名      | VARCHAR(255) |      |          |                  |                |
| エピソード番号    | VARCHAR(50)  |   YES   |          |                  |                |
| エピソード詳細    | TEXT         |      |          |                  |                |
| シーズン名        | VARCHAR(255) |   YES   |          |                  |                |
| 動画時間          | TIME         |      |          |                  |                |
| 公開日            | DATE         |      |          |                  |                |
| エピソード再生数  | INT          |      |          | 0                |                |
| 番組ID            | INT          |      |          |                  |                |


### Genres

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| ジャンルID      | INT          |      | PRIMARY  |                  | YES            |
| ジャンル名      | VARCHAR(100) |      |          |                  |                |

## 中間テーブル
### Channels_Slots

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| チャンネルID      | INT          |      |          |                  |                |
| 番組枠ID          | INT          |      |          |                  |                |

ユニークキー (チャンネルID, 番組枠ID) 組み合わせ


### Programs_Genres

| カラム名         | データ型      | NULL | キー      | 初期値           | AUTO INCREMENT |
|------------------|--------------|------|----------|------------------|----------------|
| 番組ID          | INT          |      |          |                  |                |
| ジャンルID      | INT          |      |          |                  |                |

ユニークキー (番組ID, ジャンルID) 組み合わせ

# ER図
![ER図](./ER_InternetTV.png)
